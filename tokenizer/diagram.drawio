<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0" version="27.2.0">
  <diagram name="페이지-1" id="0h08854TT0-nEwNd6orM">
    <mxGraphModel dx="4939" dy="1628" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="PSzea8uc5oQjdOAftCm1-1" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;JAMO Tokenizer 기능적 요구사항&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;자모 형태로 분해(tokenize) 와 재결합(combine)을 진행.&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;모든 tokenize는 각 char를 [ &amp;lt;jamo&amp;gt;,&amp;lt;jamo&amp;nbsp;| padding&amp;nbsp;&amp;gt;,&amp;lt;jamo | padding &amp;gt;&amp;nbsp;](이하 JAMO format) 형태로 출력&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;tokenize된 요소를 실수로 변환하는 encoding 구현&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;encoding된 요소를 다시 token으로 변환하는 decoding 구현&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;Tokenizer는 Jamo format을 준수하며 각 메서드를 처리하나 사용자는 임의로 Tokenizer 구조체 생성 시 property에 bool 타입의 입력값을 통해 비활성화(padding 비적용 tokenize)를 할 수 있다.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;Tokenizer에는 compute 또는 train의 2가지 모드로 구성된다.&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;/p&gt;&lt;div&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="80" width="600" height="160" as="geometry" />
        </mxCell>
        <mxCell id="PSzea8uc5oQjdOAftCm1-2" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;JAMO Tokenizer 비기능적 요구사항&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;tokenize에는 padding이 존재할 시 명시적으로 작성해야 한다.&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;JAMO format으로 변환할 때 항상 첫번째 요소는 무조건 존재하여야 한다.&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;font style=&quot;font-size: 11px;&quot;&gt;combine 작업은 jamo format으로 tokenize된 백터열만 가능하다. ( 초성, 중성, 종성의 구조의 일관성 유지하여 명확한 결합 진행 )&lt;/font&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;Jamo format 사용 결정 여부는 기본적으로 True이며 False를 적용하기 위해서는 초기 구조체 생성 시 필드값으로 정하여야 하며 이는 불변(immutable)이여야 한다.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;compute 모드는 처리 데이터를 제외한 모든 필드 변수가&amp;nbsp;불변(immutable)이여야 한다.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;train 모드는 vocab과 이여야 한다.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;모델의 vocab은 기본적으로 immutable이여야 하나 vocab에 token을 추가하고, vocab을 제거하는 과정을 진행할 때는 Train Mode로 변경하여 진행하여야 한다.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;Train Mode에서 compute mode 전환 시 기존의 field를 상속 받아 새로운 인스턴스를 출력한다. ( 무결성 유지 )&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="240" width="600" height="190" as="geometry" />
        </mxCell>
        <mxCell id="PSzea8uc5oQjdOAftCm1-3" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;단일 처리 Tokenizer 요규사항&amp;nbsp;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="40" width="600" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PSzea8uc5oQjdOAftCm1-4" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;병렬 처리 Tokenizer 요규사항&amp;nbsp;&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="130" y="570" width="600" height="30" as="geometry" />
        </mxCell>
        <mxCell id="PSzea8uc5oQjdOAftCm1-5" value="&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;기타&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;p&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;tokenizer의 tokenize, encode, decode, compute, train은 병렬 처리를 위해 각각의 기능과 함수를 컴포넌트화 하여 종속성을 최소화한다.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;병렬 처리를 위해 data를 chunk로 분활하여 계산할 수 있도록 지정한다.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;병렬 처리를 진행할 시 chunk 관리 클래스를 새롭게 정의해야 하며, 한번에 모든 데이터를 업로드 하는 것이 아닌 chunk 단위로 업로드를 진행한다. (chunk는 data size를 기준으로 분활되며 마지막 문장이 끝나기 전 경계 도달 시 해당 문장은 다음 청크로 넘어간다.)&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;data는 stream 형태로 읽어들이며 utf-8을 기준으로 처리한다.&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="160" y="440" width="600" height="140" as="geometry" />
        </mxCell>
        <mxCell id="PSzea8uc5oQjdOAftCm1-6" value="&lt;ol&gt;&lt;li&gt;tokenize&lt;/li&gt;&lt;li&gt;combine&lt;/li&gt;&lt;li&gt;jamo_format&lt;/li&gt;&lt;li&gt;encoding&lt;/li&gt;&lt;li&gt;decoding&lt;/li&gt;&lt;li&gt;vocab&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Train &amp;lt; Tokenizer를 object injection함 &amp;gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;Tokenizer&lt;/li&gt;&lt;li&gt;dataloader&lt;/li&gt;&lt;/ol&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;verticalAlign=top;" parent="1" vertex="1">
          <mxGeometry x="-220" y="70" width="340" height="230" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-11" value="Normalizer" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2040" y="540" width="280" height="400" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-12" value="- import unicodedata&lt;br&gt;+ method_list" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="fGygiR2meMWEybvUlObT-11" vertex="1">
          <mxGeometry y="26" width="280" height="114" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-13" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="fGygiR2meMWEybvUlObT-11" vertex="1">
          <mxGeometry y="140" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-14" value="- reduce_all_repetition_char(sentence: str)&lt;div&gt;-&amp;gt; str&lt;br&gt;- replace_repetition_char(depth_count: int = 1, sentence: str, existing_regex: str,&amp;nbsp; replacing_regex: str)&lt;div&gt;-&amp;gt;&amp;nbsp;str&lt;br&gt;&lt;div&gt;- remove_control_char(sentence: str)&lt;/div&gt;&lt;div&gt;-&amp;gt;&amp;nbsp;str&lt;/div&gt;&lt;div&gt;- reduce_whitespace(&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;sentence: str)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;-&amp;gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;str&lt;br&gt;- remove_accent&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;sentence: str)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;-&amp;gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;str&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;- nomalization_from_combination&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;sentence: str)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;-&amp;gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;str&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;normalize( method_list: Literal)&lt;br&gt;-&amp;gt; method_list | NULL&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="fGygiR2meMWEybvUlObT-11" vertex="1">
          <mxGeometry y="148" width="280" height="252" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-21" value="&lt;ol&gt;&lt;li&gt;모든 id, key는 u64의 형태로 지정한다.&lt;br&gt;(운영 체제에 최적화된 타입 및 overflow 발생 방지)&lt;/li&gt;&lt;li&gt;모든 구조체의 Field값은 직접 접근하는 것을 제한하고 메서드를 통해서만 읽기, 쓰기, 수정, 초기화를 진행하여야 한다.&lt;/li&gt;&lt;/ol&gt;" style="whiteSpace=wrap;html=1;verticalAlign=top;align=left;" parent="1" vertex="1">
          <mxGeometry x="-710" y="100" width="360" height="210" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-9" value="JAMOConverter" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2040" y="215" width="280" height="240" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-10" value="- import j2hcj, h2j, j2h, is_jamo&lt;br&gt;+ is_formatting: bool" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-9" vertex="1">
          <mxGeometry y="26" width="280" height="114" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-11" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="-UDsvztjERI6EMqML59h-9" vertex="1">
          <mxGeometry y="140" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-12" value="+ compose(jamo_foramt_str_list: list[list[str]] )&lt;br&gt;-&amp;gt; str&lt;br&gt;+ decompose(sentence: str)&lt;div&gt;-&amp;gt; str&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-9" vertex="1">
          <mxGeometry y="148" width="280" height="92" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-21" value="Vocab" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2560" y="1040" width="280" height="270" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-22" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;- token_dict: dict[&amp;nbsp;&lt;b&gt;str&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;,&amp;nbsp;&lt;b&gt;int&amp;nbsp;&lt;/b&gt;]&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;- id_dict: dict[&amp;nbsp;&lt;b&gt;int&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;, &lt;b&gt;str&amp;nbsp;&lt;/b&gt;]&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;- special_token_dict: dict[ &lt;b&gt;str, int &lt;/b&gt;]&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ pad: [ str, int ]&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+&lt;/span&gt;&amp;nbsp;unk: [ str. int ]&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-21" vertex="1">
          <mxGeometry y="26" width="280" height="134" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-23" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="-UDsvztjERI6EMqML59h-21" vertex="1">
          <mxGeometry y="160" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-24" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ get_id(token: &lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;str&lt;/b&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;): &lt;b&gt;int&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;+ get_token(id: &lt;b&gt;int&lt;/b&gt;): &lt;b&gt;str&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;+ is_special_token(token: &lt;b&gt;str &lt;/b&gt;): &lt;b&gt;bool&lt;/b&gt;&lt;/div&gt;&lt;div&gt;+ get_special_token_list(): dict[ &lt;b&gt;str, int &lt;/b&gt;]&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ get_vocab(): dict[ &lt;b&gt;str&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;, &lt;b&gt;int&lt;/b&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;]&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-21" vertex="1">
          <mxGeometry y="168" width="280" height="102" as="geometry" />
        </mxCell>
        <mxCell id="y2EjWR3qvg7osII3yhsv-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="-UDsvztjERI6EMqML59h-35" target="-UDsvztjERI6EMqML59h-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="y2EjWR3qvg7osII3yhsv-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="-UDsvztjERI6EMqML59h-35" target="fGygiR2meMWEybvUlObT-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-35" value="TokenizerBuilder" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1520" y="-140" width="280" height="280" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-36" value="+ special_token_list: set&amp;lt;str&amp;gt;&amp;nbsp;&lt;div&gt;+ jamo_set: set&amp;lt;str&amp;gt;&lt;/div&gt;&lt;div&gt;- jamo_convertor:&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;JAMOConverter&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;- normalizer: Normalizer&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-35" vertex="1">
          <mxGeometry y="26" width="280" height="64" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-37" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="-UDsvztjERI6EMqML59h-35" vertex="1">
          <mxGeometry y="90" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-38" value="+ set_speical_token(speical_token: list[str])&lt;div&gt;&amp;nbsp;-&amp;gt; VocabBuilder&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;+ set_corpus(sentence)&lt;/div&gt;&lt;div&gt;&amp;nbsp;-&amp;gt; VocabBuilder&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;set_&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;noramlize(normalize: Literal[&amp;lt;normalize method name&amp;gt;])&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;-&amp;gt; VocabBuilder&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;+ build_tokenizer()&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;-&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Tokenizer(Vocab)&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-35" vertex="1">
          <mxGeometry y="98" width="280" height="182" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-100" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="-UDsvztjERI6EMqML59h-81" target="KsxCVVFshQPgIPNSnW23-56" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-81" value="JAMOVocabAdapter" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-3000" y="-120" width="280" height="280" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-82" value="+" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-81" vertex="1">
          <mxGeometry y="26" width="280" height="114" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-83" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="-UDsvztjERI6EMqML59h-81" vertex="1">
          <mxGeometry y="140" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-84" value="+&amp;nbsp;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-81" vertex="1">
          <mxGeometry y="148" width="280" height="132" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-87" value="" style="group;strokeColor=default;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-3710" y="850" width="700" height="280" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-86" value="" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=4;spacingRight=4;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="-UDsvztjERI6EMqML59h-87" vertex="1">
          <mxGeometry width="600" height="200" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-79" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;text-decoration:underline;&quot;&gt;&lt;b&gt;Vocab: List[ tuple(str, int) ]&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:8px;&quot;&gt;key: u64&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:8px;&quot;&gt;token: str&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Literal&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" parent="-UDsvztjERI6EMqML59h-87" vertex="1">
          <mxGeometry x="280" y="90" width="280" height="70" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-80" value="Huggingface에서 preTokenizer로 통해 호출하여 사용할 수 있도록 JAMOVocabAdapter를 필요로 함" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="-UDsvztjERI6EMqML59h-87" vertex="1">
          <mxGeometry x="42" y="50" width="530" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="-UDsvztjERI6EMqML59h-87" source="-UDsvztjERI6EMqML59h-89" target="-UDsvztjERI6EMqML59h-79" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-89" value="Huggingface Vocab Format" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=default;fillColor=none;" parent="-UDsvztjERI6EMqML59h-87" vertex="1">
          <mxGeometry x="42" y="110" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=none;dashed=1;" parent="1" source="fGygiR2meMWEybvUlObT-2" target="-UDsvztjERI6EMqML59h-35" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-920" y="180" />
              <mxPoint x="-1380" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-12" value="Dask 또는 DataLoader를 통해 코퍼스를 가져온다." style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="9WKAnDUL6-gBGBFP9irt-16" vertex="1" connectable="0">
          <mxGeometry x="0.076" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-2" value="DataLoader" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-1050" y="380.01" width="280" height="199.995" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-3" value="+ path_list: Vec!&amp;lt;str&amp;gt;&lt;div&gt;+ worker_number:&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;i64&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="fGygiR2meMWEybvUlObT-2" vertex="1">
          <mxGeometry y="26" width="280" height="84" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-4" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="fGygiR2meMWEybvUlObT-2" vertex="1">
          <mxGeometry y="110" width="280" height="9.925000000000006" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-5" value="+&amp;nbsp;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="fGygiR2meMWEybvUlObT-2" vertex="1">
          <mxGeometry y="119.92500000000001" width="280" height="80.07" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.489;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=classic;startFill=1;endArrow=none;" parent="1" source="-UDsvztjERI6EMqML59h-45" target="fGygiR2meMWEybvUlObT-5" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-1" value="" style="group;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-1180" y="680" width="1810" height="2360" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-46" value="" style="group" parent="KsxCVVFshQPgIPNSnW23-1" vertex="1" connectable="0">
          <mxGeometry width="540" height="1080" as="geometry" />
        </mxCell>
        <mxCell id="-UDsvztjERI6EMqML59h-45" value="&lt;span style=&quot;font-size: 20px;&quot;&gt;CorpusDataFrameManagement&lt;/span&gt;" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=top;whiteSpace=wrap;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;locked=0;connectable=1;" parent="-UDsvztjERI6EMqML59h-46" vertex="1">
          <mxGeometry width="534" height="1080" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-6" value="Chunk" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-46" vertex="1">
          <mxGeometry x="80.33" y="671.22" width="367.21" height="379.9957979150051" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-7" value="- address: String&lt;div&gt;- size: u&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;64&lt;/span&gt;&lt;/div&gt;&lt;div&gt;- id: String&lt;/div&gt;&lt;div&gt;- hash: String&lt;/div&gt;&lt;div&gt;- cached_data: mut Vec!&amp;lt;String&amp;gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="fGygiR2meMWEybvUlObT-6" vertex="1">
          <mxGeometry y="26" width="367.21" height="90.93985459352281" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-8" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="fGygiR2meMWEybvUlObT-6" vertex="1">
          <mxGeometry y="116.93985459352281" width="367.21" height="4.10594332148227" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-9" value="+ read(is_return: bool)&lt;div&gt;-&amp;gt; Result&amp;lt;Ok(some(Vec!&amp;lt;String&amp;gt;)), Err&amp;gt;&lt;/div&gt;&lt;div&gt;+ get_cached_data()&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;-&amp;gt; Result&amp;lt;Ok(&lt;/span&gt;Vec!&amp;lt;String&amp;gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;), Err&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;+ write(&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;is_caching: bool,&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;data: *JSON TYPE* )&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-&amp;gt; Result&amp;lt;Ok, Err&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;+ post_processing(&amp;amp;Normalizer: normalizer)&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;Result&amp;lt;Ok(vec&amp;lt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;fn(x)&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;gt;), Err&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ clear_&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;cached_data&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;() -&amp;gt; bool&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ delete_chunk() -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Result&amp;lt;Ok(bool&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;), Err&amp;gt;&lt;br&gt;&lt;br&gt;+ is_valid_address() -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;Result&amp;lt;Ok(bool&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;), Err&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;+ verify_hash() -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Result&amp;lt;Ok(bool&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;), Err&amp;gt;&lt;br&gt;&lt;br&gt;-&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;log_chunk_status() -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Result&amp;lt;Ok&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;, Err&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="fGygiR2meMWEybvUlObT-6" vertex="1">
          <mxGeometry y="121.04579791500508" width="367.21" height="258.95" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-17" value="CorpusDataFrame" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-46" vertex="1">
          <mxGeometry x="80.32811271436768" y="75.78321216126902" width="367.2142295513951" height="228.0949981793805" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-18" value="&lt;br&gt;&lt;div&gt;+ chunk_metadata: Vec!&amp;lt;chunk&amp;gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="fGygiR2meMWEybvUlObT-17" vertex="1">
          <mxGeometry y="26" width="367.2142295513951" height="90.93985459352281" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-19" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="fGygiR2meMWEybvUlObT-17" vertex="1">
          <mxGeometry y="116.93985459352281" width="367.2142295513951" height="4.10594332148227" as="geometry" />
        </mxCell>
        <mxCell id="fGygiR2meMWEybvUlObT-20" value="+ method(type): type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="fGygiR2meMWEybvUlObT-17" vertex="1">
          <mxGeometry y="121.04579791500508" width="367.2142295513951" height="107.04920026437541" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-5" value="ChunkManager" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="-UDsvztjERI6EMqML59h-46" vertex="1">
          <mxGeometry x="80.33" y="400.57" width="367.21" height="210.00032850021682" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-6" value="+ chunk_metadata: Vec!&amp;lt;Chunk&amp;gt;&lt;div&gt;+ save_path: String #default ./DataFrame/Title/*.json&lt;/div&gt;&lt;div&gt;+ chunk_size: u64&lt;/div&gt;&lt;div&gt;+ chunk_number: u64&lt;/div&gt;&lt;div&gt;- id: String&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="9WKAnDUL6-gBGBFP9irt-5" vertex="1">
          <mxGeometry y="26" width="367.21" height="84" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-7" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="9WKAnDUL6-gBGBFP9irt-5" vertex="1">
          <mxGeometry y="110" width="367.21" height="0.07032850021682473" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-8" value="&lt;div&gt;+ generate_chunk(data:*JSON TYPE*)&lt;/div&gt;&lt;div&gt;+ read()&lt;/div&gt;&lt;div&gt;+ write()&lt;/div&gt;&lt;div&gt;+ delete()&lt;/div&gt;&lt;div&gt;- log_chunk_manager_status()&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="9WKAnDUL6-gBGBFP9irt-5" vertex="1">
          <mxGeometry y="110.07032850021683" width="367.21" height="99.93" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-UDsvztjERI6EMqML59h-46" source="fGygiR2meMWEybvUlObT-6" target="9WKAnDUL6-gBGBFP9irt-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.499;entryY=1.007;entryDx=0;entryDy=0;entryPerimeter=0;" parent="-UDsvztjERI6EMqML59h-46" source="9WKAnDUL6-gBGBFP9irt-5" target="fGygiR2meMWEybvUlObT-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="263.93522749006524" y="310.71116986120296" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=12;fontColor=default;endArrow=none;startFill=0;" parent="KsxCVVFshQPgIPNSnW23-1" source="9WKAnDUL6-gBGBFP9irt-4" target="fGygiR2meMWEybvUlObT-7" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-4" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;h2&gt;Field 개념 정의 - 모든 필드 값은 Private 적용됨&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;address: String&lt;br&gt;chunk가 저장된 filesystem 상의 디렉토리 주소&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;size: u64&lt;br&gt;하나의 청크 당 배정된 비트 크기&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;id: String&lt;br&gt;Chunk manager에서 해당 청크가 인식되는 고유한 일련번호로 기본적으로 {&quot;{Time}{minute}{second}.{index}&quot;} 포멧을 준수한다.&lt;br&gt;&lt;br&gt;이때 {Time}{minute}{second}은&amp;nbsp;chunk manager의 id 필드이며 index는 청크의 위치를 의미한다. =&amp;gt; ex. 07450547.05&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;cached_data: mut Vec!&amp;lt;String&amp;gt;&lt;br&gt;메모리 상에 캐시된 데이터 집합으로 수정이 가능한 컬렉션이다. ( 해당 집합은 size와 address, hash를 모두 만족하는 대상에서 읽어들인 대상이다. )&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;hash: String&lt;br&gt;저장된 파일에 대한 해쉬값으로 파일의 무결성을 파악한다. 만약 특정 chunk의 해쉬값이 불일치 한다면 청크에 배분되는 데이터를 재정의하여 신규 chunk 객체에 할당한다. 그리고 해당 구간의 데이터는 기록된 후 사용자에게 해당 내용을 전달하는데 사용된다.&amp;nbsp;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;" parent="KsxCVVFshQPgIPNSnW23-1" vertex="1">
          <mxGeometry x="650" y="1000" width="520" height="420" as="geometry" />
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=12;fontColor=default;endArrow=none;startFill=0;" parent="KsxCVVFshQPgIPNSnW23-1" source="9WKAnDUL6-gBGBFP9irt-18" target="fGygiR2meMWEybvUlObT-9" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="560" y="1490" />
              <mxPoint x="560" y="922" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="9WKAnDUL6-gBGBFP9irt-18" value="&lt;div style=&quot;text-align: left;&quot;&gt;&lt;h2&gt;Method 개념 정의 - 모든 메서드는 Public 적용됨&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;read(is_return: bool) -&amp;gt; Result&amp;lt;Ok(some(Vec!&amp;lt;String&amp;gt;)), Err&amp;gt;&lt;br&gt;데이터를 address를 기준으로 읽어옴.&lt;br&gt;해당 메서드는 다음과 같은 규칙을 준수함.&lt;br&gt;&lt;br&gt;a. is_return인수 값을 통해 address 기준으로 읽어들인 chunk 데이터 출력 여부 결정&lt;br&gt;b. 이때 리턴 타입은 Option&amp;lt;T&amp;gt;로 사후 추가 로직을 필요로 함.&lt;br&gt;c. 비동기 처리&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;div&gt;write( is_caching: bool, data: *JSON TYPE*&amp;nbsp;)&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-&amp;gt; Result&amp;lt;Ok, Err&amp;gt;&lt;/span&gt;&lt;/div&gt;address를 기준으로 파일을 생성 및 작성 후 저장함.&lt;br&gt;해당 메서드는 다음과 같은 규칙을 준수함.&lt;br&gt;&lt;br&gt;a. 이때 data는 chunk에 저장될 대상이며 size 필드값을 준수함.&lt;br&gt;b. 파일 저장과 동시에 해당 파일의 해쉬값을 생성하여 hash 필드에 저장.&lt;br&gt;c. is_caching 인수 값을 기준으로 cached_data 필드에 저장 여부를 결정&lt;br&gt;d. 비동기 처리&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;get_cached_data()&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;-&amp;gt; Result&amp;lt;Ok(&lt;/span&gt;Vec!&amp;lt;String&amp;gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;), Err&amp;gt;&lt;/span&gt;&lt;br&gt;cached_data 필드 값을 리턴함.&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;&lt;div&gt;&lt;div&gt;post_processing(&amp;amp;Normalizer: normalizer)&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;Result&amp;lt;Ok&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;, Err&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;Normalizer 객체를 post_processing시 참조하여 cached_data 필드 값에 저장된 데이터셋을 처리함.&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;clear_&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;cached_data&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;() -&amp;gt; bool&lt;br&gt;cached_data 필드 값을 처리 함.&lt;br&gt;&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;delete_chunk() -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;Result&amp;lt;Ok(bool&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;), Err&amp;gt;&lt;br&gt;해당 청크 주소(address)에 저장된 파일을 삭제, 이후 해당 청크 또한 제거됨.&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;verify_hash() -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;Result&amp;lt;Ok&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;, Err&amp;gt;&lt;br&gt;불러오는 파일의 hash와 chunk에 저장된 해쉬를 대조.&lt;br&gt;일치하면 Ok를 출력하며 상이할 시 Err를 출력.&lt;br&gt;만약 상이할 시 &lt;b&gt;user_opinion_check &lt;/b&gt;프로세스 진행.&amp;nbsp;&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;is_valid_address() -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;Result&amp;lt;Ok(bool&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;), Err&amp;gt;&lt;br&gt;저장된 파일이 존재하는지 판단하고 True, False를 출력한다.&lt;br&gt;&lt;br&gt;이때 verify_hash와 다르게 오류처리를 하지 않는 이유는 해당 함수는 단지 파일이 존재하는지 확인하고 만약 없다면 chunk를 삭제하며 있을 시 다음 작업을 진행하기 위해 존재한다.&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;-&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;log_chunk_status() -&amp;gt;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;Result&amp;lt;Ok&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;, Err&amp;gt;&lt;br&gt;로그파일에 메서드의 활동과 시각을 기록함.&lt;br&gt;&lt;br&gt;a. 각 청크에 적용된 고유한 일련 번호를 기준으로 작성됨.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;verticalAlign=top;" parent="KsxCVVFshQPgIPNSnW23-1" vertex="1">
          <mxGeometry x="650" y="1460" width="520" height="900" as="geometry" />
        </mxCell>
        <mxCell id="lTjWZF5gVAGd0lcnQCMY-1" value="&lt;div style=&quot;&quot;&gt;&lt;h2&gt;USER OPINION CHECK PROCESS&lt;/h2&gt;&lt;div&gt;현재 파일 시스템에서 비정상적인 상황이 발생함.&lt;/div&gt;&lt;div&gt;이에따라 모든 process를 sleep 상태로 전환하며 사용자에게 의사결정 구간을 제공하여 상태를 확인하고 지속해서 진행할 것인지 결정하는 프로세스.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;이는 구조체 생성에서 초기 is_active_auto_sleep을 입력값으로 받는다. 기본적으로 True&lt;/div&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;verticalAlign=top;align=left;" parent="KsxCVVFshQPgIPNSnW23-1" vertex="1">
          <mxGeometry x="1290" y="1930" width="520" height="160" as="geometry" />
        </mxCell>
        <mxCell id="lTjWZF5gVAGd0lcnQCMY-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.739;entryDx=0;entryDy=0;entryPerimeter=0;" parent="KsxCVVFshQPgIPNSnW23-1" source="lTjWZF5gVAGd0lcnQCMY-1" target="9WKAnDUL6-gBGBFP9irt-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-90" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="1" source="KsxCVVFshQPgIPNSnW23-55" target="-UDsvztjERI6EMqML59h-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-55" value="JAMOTokenizer" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-2560" y="-120" width="280" height="320" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-56" value="+ vocab: vocab" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="KsxCVVFshQPgIPNSnW23-55" vertex="1">
          <mxGeometry y="26" width="280" height="114" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-57" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="KsxCVVFshQPgIPNSnW23-55" vertex="1">
          <mxGeometry y="140" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-58" value="+ Tokenize(str: str)&lt;br&gt;-&amp;gt; Union(str, NULL)&lt;div&gt;+ Combine(str: str)&lt;/div&gt;&lt;div&gt;-&amp;gt; Union(str, NULL)&lt;/div&gt;&lt;div&gt;+ encode( list: list[list[str]] )&lt;/div&gt;&lt;div&gt;-&amp;gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Union[ &lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Union[&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;list[str], list[list[&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;str&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;]] ], NULL ]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;+ decode( list: list[list[str]] )&lt;/div&gt;&lt;div&gt;-&amp;gt;&amp;nbsp;&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Union[&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;Union[&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;str, list[str]], NULL ]&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;+ save_vocab(path:)&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="KsxCVVFshQPgIPNSnW23-55" vertex="1">
          <mxGeometry y="148" width="280" height="172" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="KsxCVVFshQPgIPNSnW23-55" target="-UDsvztjERI6EMqML59h-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="KsxCVVFshQPgIPNSnW23-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;dashed=1;" parent="1" source="KsxCVVFshQPgIPNSnW23-55" target="fGygiR2meMWEybvUlObT-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="tlcjS_hJ_C6A0sGON2fL-1" value="Vocab 조건&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;모든 vocab은 special token을 보유하여야 한다.&lt;/div&gt;&lt;div&gt;만약 vocab에 special token이 없을 경우 token 추가가 진행된다는 경고를 표시한다.&lt;/div&gt;&lt;div&gt;만약 초기 vocab이 존재하지 않을 경우 special token 또한 제공하지 않는다.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2160" y="1200" width="440" height="100" as="geometry" />
        </mxCell>
        <mxCell id="Bixi3K6aqzpzple-XuB9-5" value="&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-2040" y="1199" width="20" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Bixi3K6aqzpzple-XuB9-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="Bixi3K6aqzpzple-XuB9-19" target="KsxCVVFshQPgIPNSnW23-56" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-2640" y="-290" />
              <mxPoint x="-2640" y="-37" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Bixi3K6aqzpzple-XuB9-19" value="VocabLoader" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-3000" y="-420" width="280" height="260" as="geometry" />
        </mxCell>
        <mxCell id="Bixi3K6aqzpzple-XuB9-20" value="&lt;div style=&quot;&quot;&gt;row_vocab: dict[str, int]&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;special_token: dict[str, int]&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="Bixi3K6aqzpzple-XuB9-19" vertex="1">
          <mxGeometry y="26" width="280" height="134" as="geometry" />
        </mxCell>
        <mxCell id="Bixi3K6aqzpzple-XuB9-21" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" parent="Bixi3K6aqzpzple-XuB9-19" vertex="1">
          <mxGeometry y="160" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="Bixi3K6aqzpzple-XuB9-22" value="+ load_vocab_file(&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;path?: Os.path, dict?:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); background-color: transparent;&quot;&gt;dict[int, str]&lt;/span&gt;)&lt;div&gt;&amp;nbsp;-&amp;gt;&amp;nbsp; VocabLoader&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;- set_special_token(): None&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="Bixi3K6aqzpzple-XuB9-19" vertex="1">
          <mxGeometry y="168" width="280" height="92" as="geometry" />
        </mxCell>
        <mxCell id="Bixi3K6aqzpzple-XuB9-23" value="vocab =&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;{&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;special_token&lt;span style=&quot;white-space: pre;&quot;&gt;: {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;lt;token&amp;gt;: { token_id: &amp;lt;&lt;/span&gt;id&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;gt;, is_deafult: &amp;lt;bool&amp;gt;, using_token_name: &amp;lt;str&amp;gt; }&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;},&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;vocab: {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;&amp;lt;token&amp;gt;:&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;div&gt;&lt;div&gt;}&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="html=1;whiteSpace=wrap;align=left;" parent="1" vertex="1">
          <mxGeometry x="-3308" y="-420" width="248" height="300" as="geometry" />
        </mxCell>
        <mxCell id="Bixi3K6aqzpzple-XuB9-26" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;vocab 요구사항&lt;/h1&gt;&lt;div&gt;상위 객체에서 pad, unk, mask 토큰만 확정 짓는다면&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;사전 준비된 vocab을 load하고 export 해야함&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;새로운 vocab을 생성하고, vocab을 관리( 추가, 생성, 삭제 )할 수 있어야함.&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;모델의 vocab은 기본적으로 immutable이여야 하나 vocab에 token을 추가하고, vocab을 제거하는 과정을 진행할 때는 Train Mode로 변경하여 진행하여야 한다.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;Train Mode에서 compute mode 전환 시 기존의 field를 상속 받아 새로운 인스턴스를 출력한다. ( 무결성 유지 )&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;양방향 dictionary 구조를 취하되, Vocab 클래스 내에서 해결해야함&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;pad, unk, mask 토큰은 default 토큰으로 간주, 별도로 처리해야함.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 11px;&quot;&gt;초기화 진행 시 row_vocab 인수값에 special_token 정보가 모두 포함되어 있어야 함.&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-2170" y="1330" width="440" height="230" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
